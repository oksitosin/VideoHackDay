<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" >
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">
	<style>
  div.a {
      z-index:-11;
      width: 50px;
      height:50px;
      font-size:12px;;
      position:fixed;
      top: 50%;
        left: 50%;
      }
  </style>
	<title>HTML canvas video player</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://sdk.clarifai.com/js/clarifai-latest.js"></script>
	<script>
		var app = new Clarifai.App(
			'8uErddvxLvmT79ERk2bqKoO9OcC1I11wcjP2BT7K',
			'f3Ma5t0zpF-vZkwYw4K73xKPVIgycI7PBjuKiwe-'
		);
	</script>

	<link rel="stylesheet" href="https://stanko.github.io/skyblue/css/skyblue.css">
	<link rel="stylesheet" href="demo/demo.css">
</head>

<body>

	<div class="video-wrapper js-video-wrapper">
		<div class="video-responsive">
			<video class="video js-video" muted>
				<!-- <source src="big_buck_bunny.webm" type="video/webm" crossorigin="anonymous"> -->
				<source src="zelda.mp4" type="video/mp4">
				<!-- <source src="http://www.quirksmode.org/html5/videos/big_buck_bunny.ogv" type="video/ogg"> -->
				Your browser does not support HTML5 video.
			</video>

			<canvas class="canvas js-canvas" crossorigin="anonymous"></canvas>

			<div class="video-timeline js-timeline">
				<div class="video-timeline-passed js-timeline-passed">
				</div>
			</div>
		</div>
	</div>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="demo/fastclick.js"></script>
	<script src="demo/demo.js"></script>


	<div id="demo"></div>
	<div class='a' ></div>
  <script type="text/javascript">

			$(document).ready(function(){
			    animateDiv();
			});

			function makeNewPosition(){

				  // Get viewport dimensions (remove the dimension of the div)
		 	   var diffuse = 40;
		 	   var top = (Math.random() * diffuse);
		 	   var left = (Math.random() * diffuse);
		 	   var right = $(window).width() - 50 + (Math.random() * diffuse);
		 	   var bottom = $(window).height() - 50 + (Math.random() * diffuse);
		 	   var centerV = ($(window).height() / 2) + (Math.random() * diffuse);
		 	   var centerH = ($(window).width() / 2) + (Math.random() * diffuse);
		 	   var loc = [[top, left], [top,right],
		 	    [bottom,left], [bottom,right], [centerV, right],
		 	     [centerV, left], [top, centerH], [bottom, centerH]];


				 //   console.log(Math.floor(Math.random() * 4));
		 	   var newq = loc[Math.floor(Math.random() * 8)];
		 	   var ob = { top: newq[0], left: newq[1], fontSize: "+120px" }
		 	   return  ob;

			}


			function animateDiv(elementId = '.a'){
				$.each(([].concat( $(elementId) )),function(index,value){
			    $(this).animate(makeNewPosition(), 2000 + (Math.random() * 500), function(){
			      $(this).remove();
						animateDiv(elementId);
			    });
				})
			};

  </script>


	<script src='js/bundle.js'></script>
	<script src="js/canvas-video-player.js"></script>


	<script>
		var canvasVideo = new CanvasVideoPlayer({
			videoSelector: '.js-video',
			canvasSelector: '.js-canvas',
			timelineSelector: '.js-timeline',
			audio: true
		});
	</script>




</body>
</html>
